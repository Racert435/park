(this["webpackJsonpauto-park"]=this["webpackJsonpauto-park"]||[]).push([[0],{26:function(e,t,a){},33:function(e,t,a){"use strict";a.r(t);var r=a(4),n=a.n(r),c=a(18),s=a.n(c),o=(a(26),a(21)),u=a(3),i=a.n(u),l=a(7),b=a(5),j=(a(28),a(13)),p=a(16),d=a(19),h=(a(17),d.a.initializeApp({apiKey:"AIzaSyBHHnwzWErBQH6KVOGi6aGdkr4uKkKf3RI",authDomain:"auto-registro-96231.firebaseapp.com",projectId:"auto-registro-96231",storageBucket:"auto-registro-96231.appspot.com",messagingSenderId:"962576619134",appId:"1:962576619134:web:f2631e3b1f2db5771a6a2f"})),f=h.firestore(h),O=function(){var e=Object(l.a)(i.a.mark((function e(t){var a,r,n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={statusResponse:!1,data:null,error:null},e.prev=1,e.next=4,f.collection(t).get();case 4:r=e.sent,n=r.docs.map((function(e){return Object(p.a)({id:e.id},e.data())})),console.log(n),a.statusResponse=!0,a.data=n,e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),a.error=e.t0;case 14:return e.abrupt("return",a);case 15:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(t){return e.apply(this,arguments)}}(),x=function(){var e=Object(l.a)(i.a.mark((function e(t,a){var r,n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r={statusResponse:!1,data:null,error:null},e.prev=1,e.next=4,f.collection(t).add(a);case 4:n=e.sent,r.data={id:n.id},r.statusResponse=!0,e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),r.error=e.t0;case 12:return e.abrupt("return",r);case 13:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t,a){return e.apply(this,arguments)}}(),m=function(){var e=Object(l.a)(i.a.mark((function e(t,a,r){var n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={statusResponse:!1,error:null},e.prev=1,e.next=4,f.collection(t).doc(a).update(r);case 4:e.sent,n.statusResponse=!0,e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),n.error=e.t0;case 11:return e.abrupt("return",n);case 12:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t,a,r){return e.apply(this,arguments)}}(),v=function(){var e=Object(l.a)(i.a.mark((function e(t,a){var r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r={statusResponse:!1,error:null},e.prev=1,e.next=4,f.collection(t).doc(a).delete();case 4:r.statusResponse=!0,e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),r.error=e.t0;case 10:return e.abrupt("return",r);case 11:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(t,a){return e.apply(this,arguments)}}(),g=a(1);var k=function(){var e=Object(r.useState)(""),t=Object(b.a)(e,2),a=t[0],n=t[1],c=Object(r.useState)(""),s=Object(b.a)(c,2),u=s[0],p=s[1],d=Object(r.useState)(""),h=Object(b.a)(d,2),f=h[0],k=h[1],N=Object(r.useState)(""),S=Object(b.a)(N,2),y=S[0],w=S[1],C=Object(r.useState)(""),A=Object(b.a)(C,2),P=A[0],R=A[1],I=Object(r.useState)(""),F=Object(b.a)(I,2),M=F[0],B=F[1],V=Object(r.useState)(""),E=Object(b.a)(V,2),z=E[0],D=E[1],K=Object(r.useState)(""),T=Object(b.a)(K,2),H=T[0],G=T[1],J=Object(r.useState)(""),L=Object(b.a)(J,2),Y=L[0],Q=L[1],W=Object(r.useState)([]),q=Object(b.a)(W,2),U=q[0],X=q[1],Z=Object(r.useState)(!1),$=Object(b.a)(Z,2),_=$[0],ee=$[1],te=Object(r.useState)(""),ae=Object(b.a)(te,2),re=ae[0],ne=ae[1],ce=Object(r.useState)(null),se=Object(b.a)(ce,2),oe=(se[0],se[1]);Object(r.useEffect)((function(){Object(l.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O("tasks");case 2:t=e.sent,console.log(t),t.statusResponse&&X(t.data);case 5:case"end":return e.stop()}}),e)})))()}),[]);var ue=function(){var e=Object(l.a)(i.a.mark((function e(t){var r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),!Object(j.isEmpty)(a)){e.next=4;break}return console.log("Task Vacio"),e.abrupt("return");case 4:return e.next=6,x("tasks",{Correo:a,Nombre:f,MarcaVehiculo:u,"A\xf1o":y,PlacasA:P,PlacasB:M,Fecha:z,Inicio:H,Salida:Y});case 6:if((r=e.sent).statusResponse){e.next=10;break}return oe(r.error),e.abrupt("return");case 10:X([].concat(Object(o.a)(U),[{id:r.data.id,Correo:a,Nombre:f,MarcaVehiculo:u,"A\xf1o":y,PlacasA:P,PlacasB:M,Fecha:z,Inicio:H,Salida:Y}])),n(""),p(""),k(""),w(""),R(""),B(""),D(""),G(""),Q(""),ne("");case 21:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ie=function(){var e=Object(l.a)(i.a.mark((function e(t){var r,c;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),!Object(j.isEmpty)(a)){e.next=4;break}return console.log("Task Vacio"),e.abrupt("return");case 4:return e.next=6,m("tasks",re,{Correo:a,Nombre:f,MarcaVehiculo:u,"A\xf1o":y,PlacasA:P,PlacasB:M,Fecha:z,Inicio:H,Salida:Y});case 6:if((r=e.sent).statusResponse){e.next=10;break}return oe(r.error),e.abrupt("return");case 10:c=U.map((function(e){return e.id===re?{id:re,Correo:a,Nombre:f,MarcaVehiculo:u,"A\xf1o":y,PlacasA:P,PlacasB:M,Fecha:z,Inicio:H,Salida:Y}:e})),X(c),ee(!1),n(""),p(""),k(""),w(""),R(""),B(""),D(""),G(""),Q(""),ne("");case 23:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),le=function(){var e=Object(l.a)(i.a.mark((function e(t){var a,r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v("tasks",t);case 2:if((a=e.sent).statusResponse){e.next=6;break}return oe(a.error),e.abrupt("return");case 6:r=U.filter((function(e){return e.id!==t})),X(r);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)("link",{rel:"stylesheet",href:"./style.css"}),Object(g.jsxs)("div",{className:"container mt-5",children:[Object(g.jsx)("h1",{className:"text-center",children:"Registro de Automoviles"}),Object(g.jsxs)("div",{children:[Object(g.jsxs)("h4",{className:"text-center",children:[_?"Modificar registro":"Nuevo Auto-Park"," "]}),Object(g.jsx)("hr",{}),Object(g.jsxs)("form",{onSubmit:_?ie:ue,children:[Object(g.jsx)("input",{type:"text",className:"form-control mb-2",placeholder:"Correo",onChange:function(e){return n(e.target.value)},value:a}),Object(g.jsx)("input",{type:"text",className:"form-control mb-2",placeholder:"Nombre",onChange:function(e){return k(e.target.value)},value:f}),Object(g.jsx)("input",{type:"text",className:"form-control mb-2",placeholder:"Marca Y Modelo",onChange:function(e){return p(e.target.value)},value:u}),Object(g.jsx)("input",{type:"text",className:"form-control mb-2",placeholder:"A\xf1o del vehiculo",onChange:function(e){return w(e.target.value)},value:y}),Object(g.jsx)("input",{type:"text",className:"form-control mb-2",placeholder:"Placas A del vehiculo ",onChange:function(e){return R(e.target.value)},value:P}),Object(g.jsx)("input",{type:"text",className:"form-control mb-2",placeholder:"Placas B del vehiculo",onChange:function(e){return B(e.target.value)},value:M}),Object(g.jsx)("h6",{className:"text-center",children:"Selecciona la fecha actual:"}),Object(g.jsx)("input",{type:"date",className:"form-control mb-2",onChange:function(e){return D(e.target.value)},value:z}),Object(g.jsx)("h6",{className:"text-center",children:"Selecciona tu hora de entrada:"}),Object(g.jsx)("input",{type:"time",className:"form-control mb-2",onChange:function(e){return G(e.target.value)},value:H}),Object(g.jsx)("h6",{className:"text-center",children:"Selecciona tu hora de salida:"}),Object(g.jsx)("input",{type:"time",className:"form-control mb-2",onChange:function(e){return Q(e.target.value)},value:Y}),Object(g.jsxs)("button",{className:_?"btn btn-warning btn-block":"btn btn-dark btn-block",type:"submit",children:[_?"Actualizar":"Registrar"," "]})]})]}),Object(g.jsx)("hr",{}),Object(g.jsx)("hr",{})]}),Object(g.jsx)("div",{children:Object(g.jsxs)("div",{children:[Object(g.jsx)("h4",{className:"text-center",children:"Estacionamiento"}),0===Object(j.size)(U)?Object(g.jsx)("h5",{className:"text-center",children:"Aun no hay espacios ocupados"}):Object(g.jsx)("ul",{className:"list-group",children:U.map((function(e){return Object(g.jsx)("li",{className:"list-group-item",children:Object(g.jsxs)("div",{className:"container table-responsive",children:[Object(g.jsxs)("table",{class:"table  table-hover table-bordered table-primary",children:[Object(g.jsx)("thead",{children:Object(g.jsxs)("tr",{children:[Object(g.jsx)("th",{scope:"col",children:"Marca Y Modelo"}),Object(g.jsx)("th",{scope:"col",children:"Fecha"}),Object(g.jsx)("th",{scope:"col",children:"Entrada"}),Object(g.jsx)("th",{scope:"col",children:"Salida"})]})}),Object(g.jsx)("tbody",{children:Object(g.jsxs)("tr",{children:[Object(g.jsx)("th",{scope:"row",children:e.MarcaVehiculo}),Object(g.jsx)("td",{children:e.Fecha}),Object(g.jsx)("td",{children:e.Inicio}),Object(g.jsx)("td",{children:e.Salida})]})})]}),Object(g.jsxs)("div",{className:"container-md",children:[Object(g.jsx)("button",{className:"btn btn-warning btn-sm ",onClick:function(){return n((t=e).Correo),k(t.Nombre),p(t.MarcaVehiculo),w(t.A\u00f1o),R(t.PlacasA),B(t.PlacasB),D(t.Fecha),G(t.Inicio),Q(t.Salida),ee(!0),void ne(t.id);var t},children:"Actualizar"}),Object(g.jsx)("button",{className:"btn btn-danger btn-sm  mx-2 ",onClick:function(){return le(e.id)},children:"Eliminar"})]})]})},e.id)}))})]})})]})},N=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,34)).then((function(t){var a=t.getCLS,r=t.getFID,n=t.getFCP,c=t.getLCP,s=t.getTTFB;a(e),r(e),n(e),c(e),s(e)}))};s.a.render(Object(g.jsx)(n.a.StrictMode,{children:Object(g.jsx)(k,{})}),document.getElementById("root")),N()}},[[33,1,2]]]);
//# sourceMappingURL=main.a54fc04c.chunk.js.map